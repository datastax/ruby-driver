language: ruby
script: |
  if [[ k$TRAVIS_RUBY_VERSION = kjruby* ]] ; then
    BUNDLER_VERSION=_1.7.12_
  else
    BUNDLER_VERSION=_1.11.2_
  fi
  bundle $BUNDLER_VERSION --version
  echo bundle $BUNDLER_VERSION exec rake rspec
  bundle $BUNDLER_VERSION exec rake rspec

install: |
  if [[ k$TRAVIS_RUBY_VERSION = kjruby* ]] ; then
    BUNDLER_VERSION=_1.7.12_
  else
    BUNDLER_VERSION=_1.11.2_
  fi
  bundle $BUNDLER_VERSION install --without development docs

rvm:
#  - 2.2.4
#  - 2.3.0
#  - jruby-1.7.24
  - jruby-9.0.5.0
env:
  global:
    - FAIL_FAST=no
    - COVERAGE=no
matrix:
  fast_finish: true
branches:
  only:
    - master
before_install: |
  gem update --system 2.4.8
  gem cleanup bundler

  if [[ k$TRAVIS_RUBY_VERSION = kjruby* ]] ; then
    gem install bundler -v 1.7.12
  else
    gem install bundler -v 1.11.2
  fi
